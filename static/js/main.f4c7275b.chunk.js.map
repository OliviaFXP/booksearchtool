{"version":3,"sources":["main/header.js","main/book-search-filter.js","book-search-results/row.js","book-search-results/index.js","main/footer.js","main/index.js","reportWebVitals.js","index.js"],"names":["Header","props","className","subtitle","BookSearchFilter","state","onSearchChagne","e","preventDefault","searchBooksByTitle","titleSearchTerm","onTextChange","setState","target","value","this","id","htmlFor","type","onChange","disabled","searchButtonEnabled","onClick","Component","Row","data-label","src","book","book_cover_url","alt","title","author","published_date","sortTypes","title_up","class","sort_column","sort_order","fn","a","b","localeCompare","title_down","most_recent_publish_year_up","most_recent_publish_year_down","default","BookSearchResults","currentSort","test","determineNextSort","column","onSortChange","searchResultRows","results","sort","map","key","bookSearchTerm","scope","bind","Footer","App","getQueryString","bookTitle","trim","replace","buildBookSearchResults","allBooksResp","i","docs","length","push","isbn","author_name","join","publish_date","most_recent_publish_year","publish_year","qs","fetch","then","res","json","searchResults","catch","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4c7275b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = (props) => (\r\n    <header className=\"header\">\r\n        <div className=\"wrapper\"> \r\n            <span className=\"header-title\"> {props.subtitle}</span>\r\n        </div>\r\n    </header>\r\n);\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\n\r\nclass BookSearchFilter extends Component {\r\n    state = {}\r\n\r\n    onSearchChagne = (e) => {\r\n        e.preventDefault();\r\n        this.props.searchBooksByTitle(this.state.titleSearchTerm);\r\n    }\r\n\r\n    onTextChange = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ titleSearchTerm: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        \r\n        const titleSearchTerm = this.state.titleSearchTerm || '';\r\n\r\n        return (         \r\n            <div id=\"search-bar\">\r\n                <label htmlFor=\"query\">Search</label> \r\n                <input id=\"query\" type=\"search\" value={titleSearchTerm} onChange={this.onTextChange}/>\r\n                <button id=\"search\" disabled={!this.props.searchButtonEnabled} \r\n                        onClick={this.onSearchChagne}>Search</button>\r\n            </div>                \r\n        );\r\n    }\r\n}\r\n\r\nexport default BookSearchFilter;","import React from 'react';\r\n\r\nconst Row = (props) => {\r\n    return (\r\n        <tr>\r\n            <td data-label=\"Book cover\"><img src={props.book.book_cover_url} alt=\"book cover\"/></td>\r\n            <td data-label=\"Title\">{props.book.title}</td>\r\n            <td data-label=\"Author\">{props.book.author}</td>\r\n            <td data-label=\"Published Date\">{props.book.published_date}</td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default Row;","import React, { Component } from 'react';\r\nimport SearchResultRow from './row'\r\n\r\nconst sortTypes = {\r\n    title_up: {\r\n        class: 'fa fa-sort-asc',\r\n        sort_column: 'title',\r\n        sort_order: 'up',\r\n        fn: (a, b) => a.localeCompare(b)\r\n    },\r\n    title_down: {\r\n        class: 'fa fa-sort-desc',\r\n        sort_column: 'title',\r\n        sort_order: 'down',\r\n        fn: (a, b) => b.localeCompare(a)\r\n    },\r\n    most_recent_publish_year_up: {\r\n        class: 'fa fa-sort-asc',\r\n        sort_column: 'most_recent_publish_year',\r\n        sort_order: 'up',\r\n        fn: (a, b) => a - b\r\n    },\r\n    most_recent_publish_year_down: {\r\n        class: 'fa fa-sort-desc',\r\n        sort_column: 'most_recent_publish_year',\r\n        sort_order: 'down',\r\n        fn: (a, b) => b - a\r\n    },\r\n    default: {\r\n        class: 'fa fa-sort',\r\n        sort_column: 'title',\r\n        sort_order: 'up',\r\n        fn: (a, b) => a.localeCompare(b)\r\n    }\r\n};\r\n\r\nclass BookSearchResults extends Component {\r\n    state = {\r\n        currentSort: sortTypes.default\r\n    };\r\n\r\n    test = null;\r\n\r\n    determineNextSort = (currentSort, column) => {\r\n        let next_sort;\r\n        if (currentSort.sort_column === column) {\r\n            if (currentSort === sortTypes.default) {\r\n                next_sort = sortTypes[column + '_up']\r\n            } else {\r\n                if (currentSort.sort_column === 'title' && currentSort.sort_order === 'up') {\r\n                    next_sort = sortTypes.title_down;\r\n                } else if (currentSort.sort_column === 'title' && currentSort.sort_order === 'down') {\r\n                    next_sort = sortTypes.title_up;\r\n                } else if (currentSort.sort_column === 'most_recent_publish_year'\r\n                    && currentSort.sort_order === 'up') {\r\n                    next_sort = sortTypes.most_recent_publish_year_down;\r\n                } else if (currentSort.sort_column === 'most_recent_publish_year'\r\n                    && currentSort.sort_order === 'down') {\r\n                    next_sort = sortTypes.most_recent_publish_year_up;\r\n                } else {\r\n                    next_sort = sortTypes[column + '_up'];\r\n                }\r\n            }\r\n        } else {\r\n            next_sort = sortTypes[column + '_up'];\r\n        }\r\n        return next_sort;\r\n    }\r\n\r\n    onSortChange = (column, e) => {\r\n        this.setState({\r\n            currentSort: this.determineNextSort(this.state.currentSort, column)\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        let searchResultRows;\r\n        let results = this.props.results;\r\n        let currentSort = this.state.currentSort;\r\n        if (results) {\r\n            let sortedResult = results.sort((a, b) => {\r\n                return currentSort.fn(a[currentSort.sort_column], b[currentSort.sort_column]);\r\n            })\r\n            searchResultRows = sortedResult.map(b =>\r\n                <SearchResultRow key={b.key} book={b} />\r\n            );\r\n        }\r\n\r\n    \r\n        return (\r\n            <div className=\"wrapper\">\r\n                <table className=\"responsive-table\">\r\n                  <caption>List of books search with {this.props.bookSearchTerm}</caption>\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Book Cover</th>\r\n                            <th scope=\"col\" onClick={this.onSortChange.bind(this, 'title')}>\r\n                                Title\r\n                                {currentSort.sort_column === 'title' ? <i className={currentSort.class} /> : <i className={'fa fa-sort'} />}                                \r\n                            </th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\" onClick={this.onSortChange.bind(this, 'most_recent_publish_year')}>\r\n                                Published Date\r\n                                {currentSort.sort_column === 'most_recent_publish_year' ? <i className={currentSort.class} /> : <i className={'fa fa-sort'} />}                                \r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {searchResultRows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BookSearchResults;","import React from 'react';\r\n\r\nconst Footer = ( ) => (\r\n    <footer className=\"footer\">\r\n       <p>Copyright 2021, All rights reserved.</p>\r\n    </footer>\r\n);\r\n\r\nexport default Footer;","import React, { Component } from \"react\";\nimport './main.css';\nimport Header from \"./header\";\nimport BookSearchFilter from \"./book-search-filter\";\nimport BookSearchResults from \"../book-search-results\";\nimport Footer from \"./footer\";\n\nclass App extends Component {\n\n  state = {\n    searchButtonEnabled: true\n  }\n\n  componentDidMount() {\n    this.setState({ searchResults: [] });\n  }\n\n  getQueryString = (bookTitle) => {\n    return bookTitle.trim().replace(/\\s+/g, '+');\n  }\n\n  buildBookSearchResults = (allBooksResp) => {\n    let results = [];\n    for (var i = 0; i < allBooksResp.docs.length; i++) {\n      results.push({\n        key: allBooksResp.docs?.[i].key,\n        title: allBooksResp.docs?.[i].title,\n        book_cover_url: \"http://covers.openlibrary.org/b/isbn/\" + allBooksResp.docs?.[i].isbn?.[0] + \"-S.jpg\",\n        author: allBooksResp.docs?.[i].author_name?.join?.(\",\"),\n        published_date: allBooksResp.docs?.[i].publish_date?.join?.(\",\"),\n        most_recent_publish_year: allBooksResp.docs?.[i].publish_year?.sort?.((a, b) => b - a)[0]\n      })\n    }\n    return results;\n  }\n\n  searchBooksByTitle = (bookTitle) => {\n    this.setState({ bookSearchTerm: bookTitle });\n    this.setState({ searchButtonEnabled: false });\n    let qs = this.getQueryString(bookTitle);\n    fetch(\"https://openlibrary.org/search.json?q=\" + qs)\n      .then(res => res.json())\n      .then(allBooksResp => {\n        this.setState({ searchResults: this.buildBookSearchResults(allBooksResp) });\n        this.setState({ searchButtonEnabled: true });\n      })\n      .catch((e) => { console.log(e); });\n  }\n\n  render() {\n    return (\n      <div>\n        <Header subtitle=\"Book Search Tool\" />\n          <div id=\"wrapper\">\n            <div className=\"main\">\n            <BookSearchFilter searchBooksByTitle ={this.searchBooksByTitle} \n            searchButtonEnabled={this.state.searchButtonEnabled}/>\n            <BookSearchResults bookSearchTerm={this.state.bookSearchTerm}\n              results={this.state.searchResults} />\n            </div>\n          </div>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport App from './main';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
(this.webpackJsonpbooksearchtool=this.webpackJsonpbooksearchtool||[]).push([[0],{12:function(e,t,r){},14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var o=r(1),n=r.n(o),s=r(7),c=r.n(s),a=(r(12),r(13),r(2)),l=r(3),i=r(5),u=r(4),h=(r(14),r(0)),d=function(e){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("span",{className:"header-title",children:[" ",e.subtitle]})})})},b=function(e){Object(i.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(a.a)(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e.onSearchChagne=function(t){t.preventDefault(),e.props.searchBooksByTitle(e.state.titleSearchTerm)},e.onTextChange=function(t){t.preventDefault(),e.setState({titleSearchTerm:t.target.value})},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state.titleSearchTerm||"";return Object(h.jsxs)("div",{id:"search-bar",children:[Object(h.jsx)("label",{htmlFor:"query",children:"Search"}),Object(h.jsx)("input",{id:"query",type:"search",value:e,onChange:this.onTextChange}),Object(h.jsx)("button",{id:"search",disabled:!this.props.searchButtonEnabled,onClick:this.onSearchChagne,children:"Search"})]})}}]),r}(o.Component),j=function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{"data-label":"Book cover",children:Object(h.jsx)("img",{src:e.book.book_cover_url,alt:"book cover"})}),Object(h.jsx)("td",{"data-label":"Title",children:e.book.title}),Object(h.jsx)("td",{"data-label":"Author",children:e.book.author}),Object(h.jsx)("td",{"data-label":"Published Date",children:e.book.published_date})]})},p={title_up:{class:"fa fa-sort-asc",sort_column:"title",sort_order:"up",fn:function(e,t){return e.localeCompare(t)}},title_down:{class:"fa fa-sort-desc",sort_column:"title",sort_order:"down",fn:function(e,t){return t.localeCompare(e)}},most_recent_publish_year_up:{class:"fa fa-sort-asc",sort_column:"most_recent_publish_year",sort_order:"up",fn:function(e,t){return e-t}},most_recent_publish_year_down:{class:"fa fa-sort-desc",sort_column:"most_recent_publish_year",sort_order:"down",fn:function(e,t){return t-e}},default:{class:"fa fa-sort",sort_column:"title",sort_order:"up",fn:function(e,t){return e.localeCompare(t)}}},_=function(e){Object(i.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(a.a)(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={currentSort:p.default},e.test=null,e.determineNextSort=function(e,t){return e.sort_column===t?e===p.default?p[t+"_up"]:"title"===e.sort_column&&"up"===e.sort_order?p.title_down:"title"===e.sort_column&&"down"===e.sort_order?p.title_up:"most_recent_publish_year"===e.sort_column&&"up"===e.sort_order?p.most_recent_publish_year_down:"most_recent_publish_year"===e.sort_column&&"down"===e.sort_order?p.most_recent_publish_year_up:p[t+"_up"]:p[t+"_up"]},e.onSortChange=function(t,r){e.setState({currentSort:e.determineNextSort(e.state.currentSort,t)})},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props.results,r=this.state.currentSort;t&&(e=t.sort((function(e,t){return r.fn(e[r.sort_column],t[r.sort_column])})).map((function(e){return Object(h.jsx)(j,{book:e},e.key)})));return Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("table",{className:"responsive-table",children:[Object(h.jsxs)("caption",{children:["List of books search with ",this.props.bookSearchTerm]}),Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Book Cover"}),Object(h.jsxs)("th",{scope:"col",onClick:this.onSortChange.bind(this,"title"),children:["Title","title"===r.sort_column?Object(h.jsx)("i",{className:r.class}):Object(h.jsx)("i",{className:"fa fa-sort"})]}),Object(h.jsx)("th",{scope:"col",children:"Author"}),Object(h.jsxs)("th",{scope:"col",onClick:this.onSortChange.bind(this,"most_recent_publish_year"),children:["Published Date","most_recent_publish_year"===r.sort_column?Object(h.jsx)("i",{className:r.class}):Object(h.jsx)("i",{className:"fa fa-sort"})]})]})}),Object(h.jsx)("tbody",{children:e})]})})}}]),r}(o.Component),f=function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("p",{children:"Copyright 2021, All rights reserved."})})},m=function(e){Object(i.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(a.a)(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={searchButtonEnabled:!0},e.getQueryString=function(e){return e.trim().replace(/\s+/g,"+")},e.buildBookSearchResults=function(e){for(var t=[],r=0;r<e.docs.length;r++){var o,n,s,c,a,l,i,u,h,d,b,j,p;t.push({key:null===(o=e.docs)||void 0===o?void 0:o[r].key,title:null===(n=e.docs)||void 0===n?void 0:n[r].title,book_cover_url:"http://covers.openlibrary.org/b/isbn/"+(null===(s=e.docs)||void 0===s||null===(c=s[r].isbn)||void 0===c?void 0:c[0])+"-S.jpg",author:null===(a=e.docs)||void 0===a||null===(l=a[r].author_name)||void 0===l||null===(i=l.join)||void 0===i?void 0:i.call(l,","),published_date:null===(u=e.docs)||void 0===u||null===(h=u[r].publish_date)||void 0===h||null===(d=h.join)||void 0===d?void 0:d.call(h,","),most_recent_publish_year:null===(b=e.docs)||void 0===b||null===(j=b[r].publish_year)||void 0===j||null===(p=j.sort)||void 0===p?void 0:p.call(j,(function(e,t){return t-e}))[0]})}return t},e.searchBooksByTitle=function(t){e.setState({bookSearchTerm:t}),e.setState({searchButtonEnabled:!1});var r=e.getQueryString(t);fetch("https://openlibrary.org/search.json?q="+r).then((function(e){return e.json()})).then((function(t){e.setState({searchResults:e.buildBookSearchResults(t)}),e.setState({searchButtonEnabled:!0})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.setState({searchResults:[]})}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(d,{subtitle:"Book Search Tool"}),Object(h.jsx)("div",{id:"wrapper",children:Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(b,{searchBooksByTitle:this.searchBooksByTitle,searchButtonEnabled:this.state.searchButtonEnabled}),Object(h.jsx)(_,{bookSearchTerm:this.state.bookSearchTerm,results:this.state.searchResults})]})}),Object(h.jsx)(f,{})]})}}]),r}(o.Component),v=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,17)).then((function(t){var r=t.getCLS,o=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),o(e),n(e),s(e),c(e)}))};c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),v()}},[[16,1,2]]]);
//# sourceMappingURL=main.f4c7275b.chunk.js.map